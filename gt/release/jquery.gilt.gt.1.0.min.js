/**
 * GT Plugin
 *
 * @version 1.0
 * @requires jQuery v1.3
 * @author Kevan Davis
 * @copyright Copyright (c) 2010, Gilt Groupe
 *
 * Distributed under the terms of the GNU General Public License
 * http://www.gnu.org/licenses/gpl-3.0.html
 *
 * @description : translates text strings
 *
 * @usage :
 * load translations using $.gt.load
 *   $.gt.load({
 *     "original string" : "translated string"
 *   });
 *   $.gt.load("url/to/json", callback);
 *
 * use translations
 *   $.gt("original string")
 *   $("#label").gt() // translates the html contents of the element(s)
 *
 * gt also supports string interpolation:
 *   $.gt("{0} you", "hey") === "hey you"
 *   $.gt("hello {name}", {name: "world"}) === "hello world"
 *
 * there are also a few optional logging features that you can turn on (expect a performance hit if you do, however)
 */
(function(c){var d={},e=false,f=false,h=[];c.gt=function(a){if(d.hasOwnProperty(a)){f.hasOwnProperty(a)||(f[a]=0);f[a]+=1;a=d[a]}else if(false!==e){e.hasOwnProperty(a)||(e[a]=0);e[a]+=1}if(1<arguments.length){var b=c.makeArray(arguments),g;if(2===b.length&&b[1]instanceof Object)b=b[1];else b.splice(0,1);for(g in b)if(b.hasOwnProperty(g))a=a.replace(new RegExp("\\{"+g+"\\}","g"),b[g])}return a};c.gt.load=function(a,b){if(a instanceof Object){c.extend(d,a);b&&b()}else if("string"===typeof a)if(-1!== c.inArray(a,h))b&&b();else c.getJSON(a,function(g){c.extend(d,g);b&&b()})};c.gt.logMissingTranslations=function(){e={}};c.gt.missingTranslations=function(){return e};c.gt.logUsedTranslations=function(){f={}};c.gt.usedTranslations=function(){return f};c.gt.unusedTranslations=function(){var a=[],b;for(b in d)d.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&a.push(b);return a};c.fn.gt=function(){c.each(this,function(){c(this).html(c.gt(c(this).html()))});return this}})(jQuery);