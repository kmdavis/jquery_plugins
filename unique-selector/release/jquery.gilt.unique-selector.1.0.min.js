/**
 * Unique Selector
 *
 * @version 0.5
 * @requires jQuery v1.3
 * @author Kevan Davis
 * @copyright Copyright (c) 2009, Gilt Groupe
 *
 * Distributed under the terms of the GNU General Public License
 * http://www.gnu.org/licenses/gpl-3.0.html
 *
 * Calculates a unique css selector for an element
 *
 * Attempts have been made to optimize the selector, but it's far from perfect
 */
(function(f){var h=function(a,j){var b="";b=[];var d,e,g,i,c=a[0].nodeName.toLowerCase();if(a.attr("id"))return"#"+a.attr("id");else if(1===f(c).length)return c;else{i=function(k,l){return k.length-l.length};if(a.attr("class")){d=a.attr("class").split(" ");for(e=0;e<d.length;e+=1)if(1===f(c+"."+d[e]).length)b.push(c+"."+d[e]);else for(g=e;g<d.length;g+=1)1===f(c+"."+d[e]+"."+d[g]).length&&b.push(c+"."+d[e]+"."+d[g]);if(0!==b.length){b.sort(i);return b[0]}}b=c;if(a.prevAll(c).length||a.nextAll(c).length)b+= ":eq("+a.prevAll(c).length+")"}if(a.parent().length){if(a.parent()[0]===f("body")[0])return"body>"+b;else if(a.parent()[0]===f("head")[0])return"head>"+b;else if(a.parent()[0]===f("html")[0])return"html>"+b;else if(!j)if(!a.siblings().length)return h(a.parent(),false)+"!";return h(a.parent(),false)+">"+b}return b};f.fn.getUniqueSelector=function(){return h(this,true).replace(/!+>?/g," ")}})(jQuery);