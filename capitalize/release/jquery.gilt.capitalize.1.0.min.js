/**
 * Capitalize
 *
 * @version 1.0
 * @requires jQuery v1.3
 * @author Kevan Davis
 * @copyright Copyright (c) 2010, Gilt Groupe
 *
 * Distributed under the terms of the GNU General Public License
 * http://www.gnu.org/licenses/gpl-3.0.html
 *
 */
(function(e){e.capitalize=function(a,b){b=e.extend({},e.capitalize.defaults,b);var d="";a=a.toLowerCase().split(" ");for(var c=0,f=a.length;c<f;){d+=" ";d+=/^(\w\.)+$/.test(a[c])?b.capitalizeAbbreviations?a[c].toUpperCase():a[c]:-1!==e.inArray(a[c],b.wordsToAllCap)?a[c].toUpperCase():b.capitalizeFirstWord&&0===c||b.capitalizeLastWord&&f-1===c||-1===e.inArray(a[c],b.wordsNotToCapitalize)?a[c].charAt(0).toUpperCase()+a[c].substr(1):a[c];c+=1}return d.substring(1)};e.capitalize.defaults={capitalizeFirstWord:true, capitalizeLastWord:true,capitalizeAbbreviations:true,wordsNotToCapitalize:["at","by","down","for","from","in","into","like","near","of","off","on","onto","over","past","to","upon","with","and","but","or","yet","for","nor","so","as","if","once","than","that","till","when","a","an","the"],wordsToAllCap:[]};e.fn.capitalize=function(a){this.each(function(){var b,d=e(this);if(""!==d.val()){b=e.capitalize(d.val(),a);d.val()!==b&&d.val(b)}else if(""!==d.html()){b=e.capitalize(d.html(),a);d.html()!==b&&d.html(b)}}); return this}})(jQuery);